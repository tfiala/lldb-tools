This code comes from http://thrysoee.dk/editline/ and was vetted by Google Legal.
